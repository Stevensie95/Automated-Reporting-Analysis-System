<style>
    .form-label-width {
        width: 110px;
    }
</style>
<!--  Modal  -->
<div class="modal fade" id="previewReport" tabindex="-1" role="dialog" aria-labelledby="previewReport" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Preview</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="row">
    <div class="col-md-12">
        <center>
        <table border="1">
            <thead>
                <tr>
                    <th colspan="2">IVMW INSPECTION REPORT</th>
                    <th>DATE</th>
                    <th colspan="2">12/03/2019</th>
                    <th>TIME</th>
                    <th colspan="3">0430 - 1500</th>
                </tr>
                <tr>
                    <th>AREA CODE</th>
                    <th>COLLECTION AREA</th>
                    <th>COLLECTION FREQUENCY</th>
                    <th>BIN CENTERS</th>
                    <th>ACR CUSTOMER</th>
                    <th>TRANSPORTER</th>
                    <th>TRUCK NO.</th>
                    <th>DRIVER</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td rowspan="5">DHH45</td>
                    <td rowspan="5">....</td>
                    <td rowspan="5">TUE &amp; FRI</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td rowspan="5">TS</td>
                    <td rowspan="5">QAA3604N</td>
                    <td rowspan="5">NORSUTIADI BIN SENO</td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
            </tbody>
        </table>
        </center>
    </div>
</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<div class="row">
    <div class="col-md-12">
        <h5>IVMW Inspection Report - (DHH45)</h5>
    </div>
</div>

<div class="form-group row">
    <label for="inputDate" class="col-xs-3 col-form-label form-label-width">Date</label>
    <div class="col-md-9">
<!--        <input data-provide="datepicker" type="text" id="inputDate" class="form-control mx-sm-3 datepicker" data-date-format="yyyy-mm-dd" />-->
        <input type="date" class="form-control mx-sm-3" />
    </div>
</div>

<div class="form-group row">
    <label for="inputStartTime" class="col-xs-3 col-form-label form-label-width">Start Time</label>
    <div class="col-md-9">
<!--        <input type="text" id="inputStartTime" class="form-control mx-sm-3 clockpicker-start" readonly />-->
        <input type="time" class="form-control mx-sm-3" />
    </div>
</div>

<div class="form-group row">
    <label for="inputEndTime" class="col-xs-3 col-form-label form-label-width">End Time</label>
    <div class="col-md-9">
<!--        <input type="text" id="inputEndTime" class="form-control mx-sm-3 clockpicker-end" readonly />-->
        <input type="time" class="form-control mx-sm-3" />
    </div>
</div>

<div class="form-group row">
    <label for="inputTruck" class="col-xs-3 col-form-label form-label-width">Truck No.</label>
    <div class="col-md-9">
        <select class="form-control mx-sm-3" id="inputTruck">
            <option>ABC 123</option>
            <option>ABC 456</option>
            <option>ABC 789</option>
            <option>ABC 100</option>
        </select>
    </div>
</div>

<div class="form-group row">
    <label for="inputDriver" class="col-xs-3 col-form-label form-label-width">Driver</label>
    <div class="col-md-9">
        <select class="form-control mx-sm-3" id="inputDriver">
            <option>ALI</option>
            <option>BABA</option>
            <option>ABU</option>
            <option>BOBO</option>
        </select>
    </div>
</div>

<div class="form-group row">
    <label for="inputGAmount" class="col-xs-3 col-form-label form-label-width">Garbage Amount (TON)</label>
    <div class="col-md-9">
        <input type="text" id="inputGAmount" placeholder="(ton)" class="form-control mx-sm-3" />
    </div>
</div>

<div class="form-group row">
    <label for="inputRemark" class="col-xs-3 col-form-label form-label-width">Remark</label>
    <div class="col-md-9">
        <input type="text" id="inputRemark" class="form-control mx-sm-3" />
    </div>
</div>


<div class="row">
    <div class="col-md-12">
        <div id="googleMap" style="width:700px;height:400px;"></div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <button class="btn btn-primary" data-toggle="modal" data-target="#previewReport">Preview</button>
        <button class="btn btn-primary submit">Submit</button>
    </div>
</div>

<script>
    $(document).ready(function() {
        $('.datepicker').datepicker({
            todayHighlight: true,
            startDate: new Date()
        });
        
        $('.clockpicker-start, .clockpicker-end').clockpicker({
            autoclose: true,
            default: 'now',
            twelvehour: true
        });
        
        $('.submit').click(function() {
            var startTime = $('.clockpicker-start').val() + ':00';
            var endTime = $('.clockpicker-end').val() + ':00';
            console.log(timeToSeconds(startTime));
            console.log(timeToSeconds(endTime));
            if (timeToSeconds(endTime) > timeToSeconds(startTime))
                alert('Valid Time');
            else
                alert('Invalid Time');
        });
    });
    
    function timeToSeconds(time) {
        time = time.split(/:/);
        return time[0] * 3600 + time[1] * 60 + time[2];
    }
</script>
<script>
            $(document).ready(function() {
                var $googleMap = document.getElementById('googleMap');
                var visualizeMap = {
                    center: new google.maps.LatLng(1, 1),
                    mapTypeId: google.maps.MapTypeId.ROADMAP,
                    mapTypeControl: false,
                    panControl: false,
                    zoomControl: false,
                    streetViewControl: false,
                    disableDefaultUI: true,
                    editable: false
                };

                var map = new google.maps.Map($googleMap, visualizeMap);

                var lat = 0, lng = 0;
        
                // OnClick add Marker and get address
                google.maps.event.addListener(map, "click", function(e) {
                    var latLng = e.latLng;
                    var latitude = latLng.lat();
                    var longtitude = latLng.lng();
                    
                    var circle = new google.maps.Circle({
                        map: map,
                        center: new google.maps.LatLng(latitude, longtitude),
                        radius: 200,
                        fillColor: 'transparent',
                        strokeColor: 'red',
                        editable: true,
                        draggable: true
                    });
                    
                    google.maps.event.addListener(circle, "radius_changed", function() {
                        console.log(circle.getRadius());
                    });
                    google.maps.event.addListener(circle, "center_changed", function() {
                        console.log(circle.getCenter());
                    });

//                    var marker = new google.maps.Marker({
//                        position: new google.maps.LatLng(latitude, longtitude),
//                        title: 'Marker',
//                        map: map,
//                        draggable: true
//                    });
//
//                    var geocoder = new google.maps.Geocoder();
//                    geocoder.geocode({'address': 'Kuching, MY'}, function(results, status) {
//                        if (status == google.maps.GeocoderStatus.OK) {
//                            alert("Location: " + results[0].geometry.location.lat() + " " + results[0].geometry.location.lng() + " " + results[0].formatted_address);
//                        } else {
//                            alert("Something got wrong " + status);
//                        }
//                    });
                });
                
                //https://maps.googleapis.com/maps/api/geocode/json?address=swinburne+sarawak&key=AIzaSyCuJowvWcaKkGZj2mokAtLuKTsiLHl6rgU
                
                // JSON data returned by API above
                var myPlace = {
                   "results" : [
                      {
                         "address_components" : [
                            {
                               "long_name" : "Jalan Simpang Tiga",
                               "short_name" : "Q5A",
                               "types" : [ "route" ]
                            },
                            {
                               "long_name" : "Kuching",
                               "short_name" : "Kuching",
                               "types" : [ "locality", "political" ]
                            },
                            {
                               "long_name" : "Sarawak",
                               "short_name" : "Sarawak",
                               "types" : [ "administrative_area_level_1", "political" ]
                            },
                            {
                               "long_name" : "马来西亚",
                               "short_name" : "MY",
                               "types" : [ "country", "political" ]
                            },
                            {
                               "long_name" : "93350",
                               "short_name" : "93350",
                               "types" : [ "postal_code" ]
                            }
                         ],
                         "formatted_address" : "Jalan Simpang Tiga, 93350 Kuching, Sarawak, 马来西亚",
                         "geometry" : {
                            "location" : {
                               "lat" : 1.5322626,
                               "lng" : 110.3572259
                            },
                            "location_type" : "GEOMETRIC_CENTER",
                            "viewport" : {
                               "northeast" : {
                                  "lat" : 1.533611580291502,
                                  "lng" : 110.3585748802915
                               },
                               "southwest" : {
                                  "lat" : 1.530913619708498,
                                  "lng" : 110.3558769197085
                               }
                            }
                         },
                         "place_id" : "ChIJ5yzgEQun-zERt0vSz5Dyy2k",
                         "plus_code" : {
                            "compound_code" : "G9J4+WV 马来西亚 Sarawak, 古晋",
                            "global_code" : "6PHGG9J4+WV"
                         },
                         "types" : [ "establishment", "point_of_interest", "university" ]
                      }
                   ],
                   "status" : "OK"
                };
                var myPlace = {
                       "results" : [
                          {
                             "address_components" : [
                                {
                                   "long_name" : "Kuching",
                                   "short_name" : "Kuching",
                                   "types" : [ "locality", "political" ]
                                },
                                {
                                   "long_name" : "马来西亚",
                                   "short_name" : "MY",
                                   "types" : [ "country", "political" ]
                                },
                                {
                                   "long_name" : "93250",
                                   "short_name" : "93250",
                                   "types" : [ "postal_code" ]
                                }
                             ],
                             "formatted_address" : "No. 216, Lot 2014, Jalan Sungai Tapang, Sarawak, 93250 Kuching, 马来西亚",
                             "geometry" : {
                                "location" : {
                                   "lat" : 1.4848857,
                                   "lng" : 110.3597152
                                },
                                "location_type" : "GEOMETRIC_CENTER",
                                "viewport" : {
                                   "northeast" : {
                                      "lat" : 1.486234680291502,
                                      "lng" : 110.3610641802915
                                   },
                                   "southwest" : {
                                      "lat" : 1.483536719708498,
                                      "lng" : 110.3583662197085
                                   }
                                }
                             },
                             "place_id" : "ChIJZw7l55ug-zER2wJp6l3tqtQ",
                             "plus_code" : {
                                "compound_code" : "F9M5+XV 马来西亚 Sarawak, 古晋",
                                "global_code" : "6PHGF9M5+XV"
                             },
                             "types" : [ "establishment", "point_of_interest" ]
                          }
                       ],
                       "status" : "OK"
                    };
                
                // After get the place data, re-center the map
                setTimeout(function() {
                    var places = myPlace.results[0];
                    var location = places.formatted_address;
                    lat = places.geometry.location.lat;
                    lng = places.geometry.location.lng;
                    map.panTo(new google.maps.LatLng(lat, lng));
                    map.setZoom(17);
                }, 1000);
            });
        </script>